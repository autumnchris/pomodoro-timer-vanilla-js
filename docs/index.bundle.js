(()=>{"use strict";var __webpack_modules__={978:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// ./src/modules/Header.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nvar Header = /*#__PURE__*/function () {\n  function Header() {\n    _classCallCheck(this, Header);\n  }\n  _createClass(Header, [{\n    key: "renderHeader",\n    value:\n    // DOM methods\n    function renderHeader(location) {\n      var header = document.createElement(\'header\');\n      header.innerHTML = "\\n      <aside>\\n        <div class=\\"settings-button-container\\">\\n          <button type=\\"button\\" class=\\"button settings-button\\" aria-label=\\"timer settings\\" title=\\"Settings\\">\\n            <span class=\\"fa-solid fa-gear settings-icon\\"></span>\\n          </button>\\n        </div>\\n      </aside>\\n      <h1>Pomodoro Timer</h1>\\n    ";\n      document.querySelector(location).appendChild(header);\n    }\n  }]);\n  return Header;\n}();\n/* harmony default export */ const modules_Header = (Header);\n;// ./src/modules/Footer.js\nfunction Footer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Footer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Footer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Footer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Footer_defineProperties(Constructor, staticProps); return Constructor; }\nvar Footer = /*#__PURE__*/function () {\n  function Footer() {\n    Footer_classCallCheck(this, Footer);\n  }\n  Footer_createClass(Footer, [{\n    key: "renderFooter",\n    value:\n    // DOM methods\n    function renderFooter(location) {\n      var footer = document.createElement(\'footer\');\n      footer.innerHTML = "Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ".concat(new Date().getFullYear());\n      document.querySelector(location).appendChild(footer);\n    }\n  }]);\n  return Footer;\n}();\n/* harmony default export */ const modules_Footer = (Footer);\n;// ./src/utils/getLocalStorage.js\nfunction getLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n;// ./src/utils/setToLocalStorage.js\nfunction setToLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n;// ./src/utils/getWorkValue.js\n\n\nfunction getWorkValue(value) {\n  if (value) setToLocalStorage(\'workValue\', value);\n  return getLocalStorage(\'workValue\') || 25;\n}\n;// ./src/utils/getBreakValue.js\n\n\nfunction getBreakValue(value) {\n  if (value) setToLocalStorage(\'breakValue\', value);\n  return getLocalStorage(\'breakValue\') || 5;\n}\n;// ./src/utils/getTitle.js\nfunction getTitle(text) {\n  document.title = text;\n}\n;// ./src/modules/Timer.js\nfunction Timer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Timer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Timer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Timer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Timer_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Timer = /*#__PURE__*/function () {\n  function Timer() {\n    Timer_classCallCheck(this, Timer);\n    this.timer = null;\n    this.workTimer = getWorkValue() * 60;\n    this.breakTimer = getBreakValue() * 60;\n    this.currentSession = \'Work\';\n    this.currentMinutes = getWorkValue();\n    this.currentSeconds = 0;\n    this.playStatus = \'Play\';\n  }\n  Timer_createClass(Timer, [{\n    key: "refreshTimerValues",\n    value: function refreshTimerValues() {\n      this.workTimer = getWorkValue() * 60;\n      this.breakTimer = getBreakValue() * 60;\n      this.currentSession = \'Work\';\n      this.currentMinutes = getWorkValue();\n      this.currentSeconds = 0;\n    }\n  }, {\n    key: "resetTimer",\n    value: function resetTimer() {\n      clearInterval(this.timer);\n      this.timer = null;\n      this.refreshTimerValues();\n      this.togglePlayStatusValue(true);\n      getTitle(\'Pomodoro Timer\');\n      document.querySelector(\'.audio\').pause();\n      document.querySelector(\'.audio\').currentTime = 0;\n      this.removeTimerCard(\'main\');\n      this.removeTimerButtons(\'main\');\n      this.renderTimerCard([\'main\', \'.audio\']);\n      this.renderTimerButtons([\'main\', \'.audio\']);\n    }\n  }, {\n    key: "pauseTimer",\n    value: function pauseTimer() {\n      clearInterval(this.timer);\n      this.togglePlayStatusValue();\n      document.querySelector(\'.audio\').pause();\n      this.removeTimerButtons(\'main\');\n      this.renderTimerButtons([\'main\', \'.audio\']);\n    }\n  }, {\n    key: "countDown",\n    value: function countDown() {\n      if (this.workTimer > 0) {\n        this.workTimer--;\n        this.currentMinutes = parseInt(this.workTimer / 60, 10);\n        this.currentSeconds = parseInt(this.workTimer % 60, 10);\n      } else {\n        if (this.breakTimer === getBreakValue() * 60 && this.currentMinutes === 0 && this.currentSeconds === 0) {\n          this.currentMinutes = getBreakValue();\n          this.currentSeconds = 0;\n          this.currentSession = \'Break\';\n          document.querySelector(\'.audio\').play();\n        } else {\n          if (this.breakTimer > 0) {\n            this.breakTimer--;\n            this.currentMinutes = parseInt(this.breakTimer / 60, 10);\n            this.currentSeconds = parseInt(this.breakTimer % 60, 10);\n          } else {\n            clearInterval(this.timer);\n            this.workTimer = getWorkValue() * 60;\n            this.breakTimer = getBreakValue() * 60;\n            this.currentMinutes = this.workTimer / 60;\n            this.currentSeconds = this.workTimer % 60;\n            this.currentSession = \'Work\';\n            document.querySelector(\'.audio\').play();\n            this.playTimer(true);\n          }\n        }\n      }\n      getTitle("".concat(this.currentSession, " - ").concat(this.currentMinutes < 10 ? "0".concat(this.currentMinutes) : this.currentMinutes, ":").concat(this.currentSeconds < 10 ? "0".concat(this.currentSeconds) : this.currentSeconds));\n      this.removeTimerCard(\'main\');\n      this.renderTimerCard([\'main\', \'.timer-buttons\']);\n    }\n  }, {\n    key: "playTimer",\n    value: function playTimer() {\n      var continueTimer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.timer = setInterval(this.countDown.bind(this), 1000);\n      if (continueTimer) return;\n      this.togglePlayStatusValue();\n      this.removeTimerButtons(\'main\');\n      this.renderTimerButtons([\'main\', \'.audio\']);\n    }\n  }, {\n    key: "togglePlayStatusValue",\n    value: function togglePlayStatusValue() {\n      var isReset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (this.playStatus === \'Pause\' || isReset) {\n        this.playStatus = \'Play\';\n      } else if (this.playStatus === \'Play\') {\n        this.playStatus = \'Pause\';\n      }\n    }\n  }, {\n    key: "updateTimer",\n    value: function updateTimer() {\n      this.resetTimer();\n      this.removeTimerCard(\'main\');\n      this.removeTimerButtons(\'main\');\n      this.renderTimerCard([\'main\', \'.audio\']);\n      this.renderTimerButtons([\'main\', \'.audio\']);\n    }\n\n    // DOM methods\n  }, {\n    key: "renderTimerCard",\n    value: function renderTimerCard(location) {\n      var timerCard = document.createElement(\'div\');\n      timerCard.classList.add(\'timer-card\');\n      timerCard.innerHTML = "\\n      <h2 class=\\"session\\">".concat(this.currentSession, " Session</h2>\\n      <div class=\\"timer\\">").concat(this.currentMinutes < 10 ? "0".concat(this.currentMinutes) : this.currentMinutes, ":").concat(this.currentSeconds < 10 ? "0".concat(this.currentSeconds) : this.currentSeconds, "</div>\\n    ");\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(timerCard);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(timerCard, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "renderTimerButtons",\n    value: function renderTimerButtons(location) {\n      var timerButtons = document.createElement(\'div\');\n      timerButtons.classList.add(\'button-group\', \'timer-buttons\');\n      timerButtons.innerHTML = "\\n      <button type=\\"button\\" class=\\"button timer-button ".concat(this.playStatus.toLowerCase(), "-timer\\" aria-label=\\"").concat(this.playStatus.toLowerCase(), " timer\\" title=\\"").concat(this.playStatus, "\\">\\n        <span class=\\"fa-solid fa-").concat(this.playStatus.toLowerCase(), " fa-lg timer-icon\\"></span>\\n      </button>\\n      <button type=\\"button\\" class=\\"button timer-button reset-timer\\" aria-label=\\"reset timer\\" title=\\"Reset\\">\\n        <span class=\\"fa-solid fa-rotate-right fa-lg timer-icon\\"></span>\\n      </button>\\n    ");\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(timerButtons);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(timerButtons, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "removeTimerCard",\n    value: function removeTimerCard(location) {\n      var timerCard = document.querySelector("".concat(location, " .timer-card"));\n      timerCard ? document.querySelector(location).removeChild(timerCard) : null;\n    }\n  }, {\n    key: "removeTimerButtons",\n    value: function removeTimerButtons(location) {\n      var timerButtons = document.querySelector("".concat(location, " .timer-buttons"));\n      timerButtons ? document.querySelector(location).removeChild(timerButtons) : null;\n    }\n  }]);\n  return Timer;\n}();\n/* harmony default export */ const modules_Timer = (Timer);\n;// ./src/modules/ErrorMessage.js\nfunction ErrorMessage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction ErrorMessage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction ErrorMessage_createClass(Constructor, protoProps, staticProps) { if (protoProps) ErrorMessage_defineProperties(Constructor.prototype, protoProps); if (staticProps) ErrorMessage_defineProperties(Constructor, staticProps); return Constructor; }\nvar ErrorMessage = /*#__PURE__*/function () {\n  function ErrorMessage() {\n    ErrorMessage_classCallCheck(this, ErrorMessage);\n  }\n  ErrorMessage_createClass(ErrorMessage, [{\n    key: "renderErrorMessage",\n    value:\n    // DOM methods\n    function renderErrorMessage(message, location) {\n      var errorMessage = document.createElement(\'p\');\n      errorMessage.classList.add(\'message\', \'error-message\');\n      errorMessage.innerHTML = "<span class=\\"fa-solid fa-circle-exclamation fa-lg fa-fw\\" aria-hidden=\\"true\\"></span> ".concat(message);\n      document.querySelector(location).appendChild(errorMessage);\n    }\n  }, {\n    key: "removeErrorMessage",\n    value: function removeErrorMessage(location) {\n      var errorMessage = document.querySelector("".concat(location, " .error-message"));\n      errorMessage ? document.querySelector(location).removeChild(errorMessage) : null;\n    }\n  }]);\n  return ErrorMessage;\n}();\n/* harmony default export */ const modules_ErrorMessage = (ErrorMessage);\n;// ./src/modules/SettingsModal.js\nfunction SettingsModal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction SettingsModal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction SettingsModal_createClass(Constructor, protoProps, staticProps) { if (protoProps) SettingsModal_defineProperties(Constructor.prototype, protoProps); if (staticProps) SettingsModal_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar SettingsModal = /*#__PURE__*/function () {\n  function SettingsModal(timerInstance) {\n    SettingsModal_classCallCheck(this, SettingsModal);\n    this.errorMessage = new modules_ErrorMessage();\n    this.timer = timerInstance;\n  }\n  SettingsModal_createClass(SettingsModal, [{\n    key: "handleSubmit",\n    value: function handleSubmit(event, workValue, breakValue) {\n      event.preventDefault();\n      workValue = Number(workValue.trim());\n      breakValue = Number(breakValue.trim());\n      this.errorMessage.removeErrorMessage(\'#modal .modal-body\');\n      if (isNaN(workValue) || workValue < 1 || workValue >= 61) {\n        this.errorMessage.renderErrorMessage(\'Work Timer must be a number greater than 0 and less than 61.\', \'#modal .modal-body\');\n      } else if (isNaN(breakValue) || breakValue < 1 || breakValue >= 61) {\n        this.errorMessage.renderErrorMessage(\'Break Timer must be a number greater than 0 and less than 61.\', \'#modal .modal-body\');\n      } else {\n        this.updateTimer(workValue, breakValue);\n        this.closeSettingsModal();\n      }\n    }\n  }, {\n    key: "updateTimer",\n    value: function updateTimer(workValue, breakValue) {\n      if (Math.floor(workValue) !== workValue) workValue = Math.floor(workValue);\n      if (Math.floor(breakValue) !== breakValue) breakValue = Math.floor(breakValue);\n      getWorkValue(workValue);\n      getBreakValue(breakValue);\n      this.timer.updateTimer();\n    }\n  }, {\n    key: "openSettingsModal",\n    value: function openSettingsModal() {\n      this.renderSettingsModal(\'main\');\n    }\n  }, {\n    key: "closeSettingsModal",\n    value: function closeSettingsModal() {\n      this.removeSettingsModal(\'main\');\n    }\n\n    // DOM methods\n  }, {\n    key: "renderSettingsModal",\n    value: function renderSettingsModal(location) {\n      var settingsModal = document.createElement(\'div\');\n      settingsModal.setAttribute(\'id\', \'modal\');\n      settingsModal.classList.add(\'modal\');\n      settingsModal.innerHTML = "\\n      <div class=\\"modal-content\\">\\n        <div class=\\"modal-header\\">Set Custom Timer (in minutes)</div>\\n        <div class=\\"modal-body\\">\\n          <form class=\\"settings-form\\" novalidate>\\n            <div class=\\"form-group\\">\\n              <label for=\\"work-timer-input\\">Work:</label>\\n              <input type=\\"text\\" value=\\"".concat(getWorkValue(), "\\" name=\\"workTimer\\" inputmode=\\"numeric\\" id=\\"work-timer-input\\" autocomplete=\\"off\\" required />\\n            </div>\\n            <div class=\\"form-group\\">\\n              <label for=\\"break-timer-input\\">Break:</label>\\n              <input type=\\"text\\" value=\\"").concat(getBreakValue(), "\\" name=\\"breakTimer\\" inputmode=\\"numeric\\" id=\\"break-timer-input\\" autocomplete=\\"off\\" required />\\n            </div>\\n            <div class=\\"button-group\\">\\n              <button type=\\"submit\\" class=\\"button modal-button submit\\">Save</button>\\n              <button type=\\"button\\" class=\\"button modal-button cancel\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    ");\n      document.querySelector(location).appendChild(settingsModal);\n      document.querySelector(\'body\').classList.add(\'modal-open\');\n    }\n  }, {\n    key: "removeSettingsModal",\n    value: function removeSettingsModal(location) {\n      var settingsModal = document.querySelector("".concat(location, " #modal"));\n      settingsModal ? document.querySelector(location).removeChild(settingsModal) : null;\n      document.querySelector(\'body\').classList.remove(\'modal-open\');\n    }\n  }]);\n  return SettingsModal;\n}();\n/* harmony default export */ const modules_SettingsModal = (SettingsModal);\n;// ./src/assets/audio/timer-done.mp3\nconst timer_done_namespaceObject = __webpack_require__.p + "assets/f23942014df59f4c87a6.mp3";\n;// ./src/App.js\nfunction App_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction App_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction App_createClass(Constructor, protoProps, staticProps) { if (protoProps) App_defineProperties(Constructor.prototype, protoProps); if (staticProps) App_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    App_classCallCheck(this, App);\n    this.header = new modules_Header();\n    this.footer = new modules_Footer();\n    this.timer = new modules_Timer();\n    this.settingsModal = new modules_SettingsModal(this.timer);\n    this.renderApp();\n  }\n\n  // Event listeners\n  App_createClass(App, [{\n    key: "events",\n    value: function events() {\n      var _this = this;\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'.timer-buttons .play-timer\') ? _this.timer.playTimer() : null;\n        element.matches(\'.timer-buttons .pause-timer\') ? _this.timer.pauseTimer() : null;\n        element.matches(\'.timer-buttons .reset-timer\') ? _this.timer.resetTimer() : null;\n        element.matches(\'header .settings-button\') ? _this.settingsModal.openSettingsModal() : null;\n        element.matches(\'#modal .modal-button.cancel\') ? _this.settingsModal.closeSettingsModal() : null;\n        element.matches(\'#modal\') ? _this.settingsModal.closeSettingsModal() : null;\n      });\n      document.addEventListener(\'keydown\', function (event) {\n        document.querySelector(\'#modal\') && event.key === \'Escape\' ? _this.settingsModal.closeSettingsModal() : null;\n      });\n      document.addEventListener(\'submit\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .settings-form\') ? _this.settingsModal.handleSubmit(event, document.querySelector(\'#work-timer-input\').value, document.querySelector(\'#break-timer-input\').value) : null;\n      });\n    }\n\n    // DOM methods\n  }, {\n    key: "renderApp",\n    value: function renderApp() {\n      this.header.renderHeader(\'#app\');\n      this.renderMain(\'#app\');\n      this.footer.renderFooter(\'#app\');\n      this.timer.renderTimerCard([\'main\', \'.audio\']);\n      this.timer.renderTimerButtons([\'main\', \'.audio\']);\n      this.events();\n    }\n  }, {\n    key: "renderMain",\n    value: function renderMain(location) {\n      var main = document.createElement(\'main\');\n      main.innerHTML = "<audio src=\\"".concat(timer_done_namespaceObject, "\\" class=\\"audio\\"></audio>");\n      document.querySelector(location).appendChild(main);\n    }\n  }]);\n  return App;\n}();\n/* harmony default export */ const src_App = (App);\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// ./src/index.js\n\n\n\n\n\n\nnew src_App();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc4LmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5REE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb21vZG9yby10aW1lci12YW5pbGxhLWpzLy4vc3JjL21vZHVsZXMvSGVhZGVyLmpzP2U4NWMiLCJ3ZWJwYWNrOi8vcG9tb2Rvcm8tdGltZXItdmFuaWxsYS1qcy8uL3NyYy9tb2R1bGVzL0Zvb3Rlci5qcz80MTNmIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLXZhbmlsbGEtanMvLi9zcmMvdXRpbHMvZ2V0TG9jYWxTdG9yYWdlLmpzP2YyMWMiLCJ3ZWJwYWNrOi8vcG9tb2Rvcm8tdGltZXItdmFuaWxsYS1qcy8uL3NyYy91dGlscy9zZXRUb0xvY2FsU3RvcmFnZS5qcz8wNGNjIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLXZhbmlsbGEtanMvLi9zcmMvdXRpbHMvZ2V0V29ya1ZhbHVlLmpzP2IwMmUiLCJ3ZWJwYWNrOi8vcG9tb2Rvcm8tdGltZXItdmFuaWxsYS1qcy8uL3NyYy91dGlscy9nZXRCcmVha1ZhbHVlLmpzPzQ2OWMiLCJ3ZWJwYWNrOi8vcG9tb2Rvcm8tdGltZXItdmFuaWxsYS1qcy8uL3NyYy91dGlscy9nZXRUaXRsZS5qcz9hMjlkIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLXZhbmlsbGEtanMvLi9zcmMvbW9kdWxlcy9UaW1lci5qcz84MDU5Iiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLXZhbmlsbGEtanMvLi9zcmMvbW9kdWxlcy9FcnJvck1lc3NhZ2UuanM/NTFkOSIsIndlYnBhY2s6Ly9wb21vZG9yby10aW1lci12YW5pbGxhLWpzLy4vc3JjL21vZHVsZXMvU2V0dGluZ3NNb2RhbC5qcz81Y2U4Iiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLXZhbmlsbGEtanMvLi9zcmMvQXBwLmpzPzMzMjciLCJ3ZWJwYWNrOi8vcG9tb2Rvcm8tdGltZXItdmFuaWxsYS1qcy8uL3NyYy9pbmRleC5odG1sPzczY2YiLCJ3ZWJwYWNrOi8vcG9tb2Rvcm8tdGltZXItdmFuaWxsYS1qcy8uL3NyYy9mYXZpY29uLmljbz9hZTcwIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLXZhbmlsbGEtanMvLi9zcmMvaW5kZXguanM/ZDliZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbnZhciBIZWFkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICBrZXk6IFwicmVuZGVySGVhZGVyXCIsXG4gICAgdmFsdWU6XG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJIZWFkZXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICAgIGhlYWRlci5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxhc2lkZT5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNldHRpbmdzLWJ1dHRvbi1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiBzZXR0aW5ncy1idXR0b25cXFwiIGFyaWEtbGFiZWw9XFxcInRpbWVyIHNldHRpbmdzXFxcIiB0aXRsZT1cXFwiU2V0dGluZ3NcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJmYS1zb2xpZCBmYS1nZWFyIHNldHRpbmdzLWljb25cXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2FzaWRlPlxcbiAgICAgIDxoMT5Qb21vZG9ybyBUaW1lcjwvaDE+XFxuICAgIFwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhlYWRlcjtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbnZhciBGb290ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGb290ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvb3Rlcik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEZvb3RlciwgW3tcbiAgICBrZXk6IFwicmVuZGVyRm9vdGVyXCIsXG4gICAgdmFsdWU6XG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJGb290ZXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb290ZXInKTtcbiAgICAgIGZvb3Rlci5pbm5lckhUTUwgPSBcIkNyZWF0ZWQgYnkgPGEgaHJlZj1cXFwiaHR0cHM6Ly9hdXR1bW5jaHJpcy5naXRodWIuaW8vcG9ydGZvbGlvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+QXV0dW1uIEJ1bGxhcmQ8L2E+ICZjb3B5OyBcIi5jb25jYXQobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGZvb3Rlcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBGb290ZXI7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBGb290ZXI7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKGtleSkge1xuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbn0iLCJpbXBvcnQgZ2V0TG9jYWxTdG9yYWdlIGZyb20gJy4vZ2V0TG9jYWxTdG9yYWdlJztcbmltcG9ydCBzZXRUb0xvY2FsU3RvcmFnZSBmcm9tICcuL3NldFRvTG9jYWxTdG9yYWdlJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdvcmtWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUpIHNldFRvTG9jYWxTdG9yYWdlKCd3b3JrVmFsdWUnLCB2YWx1ZSk7XG4gIHJldHVybiBnZXRMb2NhbFN0b3JhZ2UoJ3dvcmtWYWx1ZScpIHx8IDI1O1xufSIsImltcG9ydCBnZXRMb2NhbFN0b3JhZ2UgZnJvbSAnLi9nZXRMb2NhbFN0b3JhZ2UnO1xuaW1wb3J0IHNldFRvTG9jYWxTdG9yYWdlIGZyb20gJy4vc2V0VG9Mb2NhbFN0b3JhZ2UnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QnJlYWtWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUpIHNldFRvTG9jYWxTdG9yYWdlKCdicmVha1ZhbHVlJywgdmFsdWUpO1xuICByZXR1cm4gZ2V0TG9jYWxTdG9yYWdlKCdicmVha1ZhbHVlJykgfHwgNTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUaXRsZSh0ZXh0KSB7XG4gIGRvY3VtZW50LnRpdGxlID0gdGV4dDtcbn0iLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmltcG9ydCBnZXRXb3JrVmFsdWUgZnJvbSAnLi4vdXRpbHMvZ2V0V29ya1ZhbHVlJztcbmltcG9ydCBnZXRCcmVha1ZhbHVlIGZyb20gJy4uL3V0aWxzL2dldEJyZWFrVmFsdWUnO1xuaW1wb3J0IGdldFRpdGxlIGZyb20gJy4uL3V0aWxzL2dldFRpdGxlJztcbnZhciBUaW1lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRpbWVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lcik7XG4gICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgdGhpcy53b3JrVGltZXIgPSBnZXRXb3JrVmFsdWUoKSAqIDYwO1xuICAgIHRoaXMuYnJlYWtUaW1lciA9IGdldEJyZWFrVmFsdWUoKSAqIDYwO1xuICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSAnV29yayc7XG4gICAgdGhpcy5jdXJyZW50TWludXRlcyA9IGdldFdvcmtWYWx1ZSgpO1xuICAgIHRoaXMuY3VycmVudFNlY29uZHMgPSAwO1xuICAgIHRoaXMucGxheVN0YXR1cyA9ICdQbGF5JztcbiAgfVxuICBfY3JlYXRlQ2xhc3MoVGltZXIsIFt7XG4gICAga2V5OiBcInJlZnJlc2hUaW1lclZhbHVlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoVGltZXJWYWx1ZXMoKSB7XG4gICAgICB0aGlzLndvcmtUaW1lciA9IGdldFdvcmtWYWx1ZSgpICogNjA7XG4gICAgICB0aGlzLmJyZWFrVGltZXIgPSBnZXRCcmVha1ZhbHVlKCkgKiA2MDtcbiAgICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSAnV29yayc7XG4gICAgICB0aGlzLmN1cnJlbnRNaW51dGVzID0gZ2V0V29ya1ZhbHVlKCk7XG4gICAgICB0aGlzLmN1cnJlbnRTZWNvbmRzID0gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRUaW1lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFRpbWVyKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgICAgdGhpcy5yZWZyZXNoVGltZXJWYWx1ZXMoKTtcbiAgICAgIHRoaXMudG9nZ2xlUGxheVN0YXR1c1ZhbHVlKHRydWUpO1xuICAgICAgZ2V0VGl0bGUoJ1BvbW9kb3JvIFRpbWVyJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXVkaW8nKS5wYXVzZSgpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF1ZGlvJykuY3VycmVudFRpbWUgPSAwO1xuICAgICAgdGhpcy5yZW1vdmVUaW1lckNhcmQoJ21haW4nKTtcbiAgICAgIHRoaXMucmVtb3ZlVGltZXJCdXR0b25zKCdtYWluJyk7XG4gICAgICB0aGlzLnJlbmRlclRpbWVyQ2FyZChbJ21haW4nLCAnLmF1ZGlvJ10pO1xuICAgICAgdGhpcy5yZW5kZXJUaW1lckJ1dHRvbnMoWydtYWluJywgJy5hdWRpbyddKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGF1c2VUaW1lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZVRpbWVyKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudG9nZ2xlUGxheVN0YXR1c1ZhbHVlKCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXVkaW8nKS5wYXVzZSgpO1xuICAgICAgdGhpcy5yZW1vdmVUaW1lckJ1dHRvbnMoJ21haW4nKTtcbiAgICAgIHRoaXMucmVuZGVyVGltZXJCdXR0b25zKFsnbWFpbicsICcuYXVkaW8nXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvdW50RG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudERvd24oKSB7XG4gICAgICBpZiAodGhpcy53b3JrVGltZXIgPiAwKSB7XG4gICAgICAgIHRoaXMud29ya1RpbWVyLS07XG4gICAgICAgIHRoaXMuY3VycmVudE1pbnV0ZXMgPSBwYXJzZUludCh0aGlzLndvcmtUaW1lciAvIDYwLCAxMCk7XG4gICAgICAgIHRoaXMuY3VycmVudFNlY29uZHMgPSBwYXJzZUludCh0aGlzLndvcmtUaW1lciAlIDYwLCAxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5icmVha1RpbWVyID09PSBnZXRCcmVha1ZhbHVlKCkgKiA2MCAmJiB0aGlzLmN1cnJlbnRNaW51dGVzID09PSAwICYmIHRoaXMuY3VycmVudFNlY29uZHMgPT09IDApIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRNaW51dGVzID0gZ2V0QnJlYWtWYWx1ZSgpO1xuICAgICAgICAgIHRoaXMuY3VycmVudFNlY29uZHMgPSAwO1xuICAgICAgICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSAnQnJlYWsnO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdWRpbycpLnBsYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5icmVha1RpbWVyID4gMCkge1xuICAgICAgICAgICAgdGhpcy5icmVha1RpbWVyLS07XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNaW51dGVzID0gcGFyc2VJbnQodGhpcy5icmVha1RpbWVyIC8gNjAsIDEwKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlY29uZHMgPSBwYXJzZUludCh0aGlzLmJyZWFrVGltZXIgJSA2MCwgMTApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy53b3JrVGltZXIgPSBnZXRXb3JrVmFsdWUoKSAqIDYwO1xuICAgICAgICAgICAgdGhpcy5icmVha1RpbWVyID0gZ2V0QnJlYWtWYWx1ZSgpICogNjA7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNaW51dGVzID0gdGhpcy53b3JrVGltZXIgLyA2MDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlY29uZHMgPSB0aGlzLndvcmtUaW1lciAlIDYwO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9ICdXb3JrJztcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdWRpbycpLnBsYXkoKTtcbiAgICAgICAgICAgIHRoaXMucGxheVRpbWVyKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2V0VGl0bGUoXCJcIi5jb25jYXQodGhpcy5jdXJyZW50U2Vzc2lvbiwgXCIgLSBcIikuY29uY2F0KHRoaXMuY3VycmVudE1pbnV0ZXMgPCAxMCA/IFwiMFwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaW51dGVzKSA6IHRoaXMuY3VycmVudE1pbnV0ZXMsIFwiOlwiKS5jb25jYXQodGhpcy5jdXJyZW50U2Vjb25kcyA8IDEwID8gXCIwXCIuY29uY2F0KHRoaXMuY3VycmVudFNlY29uZHMpIDogdGhpcy5jdXJyZW50U2Vjb25kcykpO1xuICAgICAgdGhpcy5yZW1vdmVUaW1lckNhcmQoJ21haW4nKTtcbiAgICAgIHRoaXMucmVuZGVyVGltZXJDYXJkKFsnbWFpbicsICcudGltZXItYnV0dG9ucyddKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVRpbWVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXlUaW1lcigpIHtcbiAgICAgIHZhciBjb250aW51ZVRpbWVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmNvdW50RG93bi5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgIGlmIChjb250aW51ZVRpbWVyKSByZXR1cm47XG4gICAgICB0aGlzLnRvZ2dsZVBsYXlTdGF0dXNWYWx1ZSgpO1xuICAgICAgdGhpcy5yZW1vdmVUaW1lckJ1dHRvbnMoJ21haW4nKTtcbiAgICAgIHRoaXMucmVuZGVyVGltZXJCdXR0b25zKFsnbWFpbicsICcuYXVkaW8nXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvZ2dsZVBsYXlTdGF0dXNWYWx1ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVQbGF5U3RhdHVzVmFsdWUoKSB7XG4gICAgICB2YXIgaXNSZXNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgICBpZiAodGhpcy5wbGF5U3RhdHVzID09PSAnUGF1c2UnIHx8IGlzUmVzZXQpIHtcbiAgICAgICAgdGhpcy5wbGF5U3RhdHVzID0gJ1BsYXknO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09ICdQbGF5Jykge1xuICAgICAgICB0aGlzLnBsYXlTdGF0dXMgPSAnUGF1c2UnO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVUaW1lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUaW1lcigpIHtcbiAgICAgIHRoaXMucmVzZXRUaW1lcigpO1xuICAgICAgdGhpcy5yZW1vdmVUaW1lckNhcmQoJ21haW4nKTtcbiAgICAgIHRoaXMucmVtb3ZlVGltZXJCdXR0b25zKCdtYWluJyk7XG4gICAgICB0aGlzLnJlbmRlclRpbWVyQ2FyZChbJ21haW4nLCAnLmF1ZGlvJ10pO1xuICAgICAgdGhpcy5yZW5kZXJUaW1lckJ1dHRvbnMoWydtYWluJywgJy5hdWRpbyddKTtcbiAgICB9XG5cbiAgICAvLyBET00gbWV0aG9kc1xuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclRpbWVyQ2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUaW1lckNhcmQobG9jYXRpb24pIHtcbiAgICAgIHZhciB0aW1lckNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRpbWVyQ2FyZC5jbGFzc0xpc3QuYWRkKCd0aW1lci1jYXJkJyk7XG4gICAgICB0aW1lckNhcmQuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8aDIgY2xhc3M9XFxcInNlc3Npb25cXFwiPlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRTZXNzaW9uLCBcIiBTZXNzaW9uPC9oMj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ0aW1lclxcXCI+XCIpLmNvbmNhdCh0aGlzLmN1cnJlbnRNaW51dGVzIDwgMTAgPyBcIjBcIi5jb25jYXQodGhpcy5jdXJyZW50TWludXRlcykgOiB0aGlzLmN1cnJlbnRNaW51dGVzLCBcIjpcIikuY29uY2F0KHRoaXMuY3VycmVudFNlY29uZHMgPCAxMCA/IFwiMFwiLmNvbmNhdCh0aGlzLmN1cnJlbnRTZWNvbmRzKSA6IHRoaXMuY3VycmVudFNlY29uZHMsIFwiPC9kaXY+XFxuICAgIFwiKTtcbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKHRpbWVyQ2FyZCk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobG9jYXRpb24pKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMF0pLmluc2VydEJlZm9yZSh0aW1lckNhcmQsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyVGltZXJCdXR0b25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRpbWVyQnV0dG9ucyhsb2NhdGlvbikge1xuICAgICAgdmFyIHRpbWVyQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGltZXJCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi1ncm91cCcsICd0aW1lci1idXR0b25zJyk7XG4gICAgICB0aW1lckJ1dHRvbnMuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiB0aW1lci1idXR0b24gXCIuY29uY2F0KHRoaXMucGxheVN0YXR1cy50b0xvd2VyQ2FzZSgpLCBcIi10aW1lclxcXCIgYXJpYS1sYWJlbD1cXFwiXCIpLmNvbmNhdCh0aGlzLnBsYXlTdGF0dXMudG9Mb3dlckNhc2UoKSwgXCIgdGltZXJcXFwiIHRpdGxlPVxcXCJcIikuY29uY2F0KHRoaXMucGxheVN0YXR1cywgXCJcXFwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImZhLXNvbGlkIGZhLVwiKS5jb25jYXQodGhpcy5wbGF5U3RhdHVzLnRvTG93ZXJDYXNlKCksIFwiIGZhLWxnIHRpbWVyLWljb25cXFwiPjwvc3Bhbj5cXG4gICAgICA8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiB0aW1lci1idXR0b24gcmVzZXQtdGltZXJcXFwiIGFyaWEtbGFiZWw9XFxcInJlc2V0IHRpbWVyXFxcIiB0aXRsZT1cXFwiUmVzZXRcXFwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImZhLXNvbGlkIGZhLXJvdGF0ZS1yaWdodCBmYS1sZyB0aW1lci1pY29uXFxcIj48L3NwYW4+XFxuICAgICAgPC9idXR0b24+XFxuICAgIFwiKTtcbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKHRpbWVyQnV0dG9ucyk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobG9jYXRpb24pKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMF0pLmluc2VydEJlZm9yZSh0aW1lckJ1dHRvbnMsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlVGltZXJDYXJkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVRpbWVyQ2FyZChsb2NhdGlvbikge1xuICAgICAgdmFyIHRpbWVyQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiIC50aW1lci1jYXJkXCIpKTtcbiAgICAgIHRpbWVyQ2FyZCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLnJlbW92ZUNoaWxkKHRpbWVyQ2FyZCkgOiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVUaW1lckJ1dHRvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVGltZXJCdXR0b25zKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgdGltZXJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiLmNvbmNhdChsb2NhdGlvbiwgXCIgLnRpbWVyLWJ1dHRvbnNcIikpO1xuICAgICAgdGltZXJCdXR0b25zID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQodGltZXJCdXR0b25zKSA6IG51bGw7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1lcjtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IFRpbWVyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxudmFyIEVycm9yTWVzc2FnZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVycm9yTWVzc2FnZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXJyb3JNZXNzYWdlKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRXJyb3JNZXNzYWdlLCBbe1xuICAgIGtleTogXCJyZW5kZXJFcnJvck1lc3NhZ2VcIixcbiAgICB2YWx1ZTpcbiAgICAvLyBET00gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHJlbmRlckVycm9yTWVzc2FnZShtZXNzYWdlLCBsb2NhdGlvbikge1xuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlJywgJ2Vycm9yLW1lc3NhZ2UnKTtcbiAgICAgIGVycm9yTWVzc2FnZS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPVxcXCJmYS1zb2xpZCBmYS1jaXJjbGUtZXhjbGFtYXRpb24gZmEtbGcgZmEtZndcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L3NwYW4+IFwiLmNvbmNhdChtZXNzYWdlKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUVycm9yTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFcnJvck1lc3NhZ2UobG9jYXRpb24pIHtcbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuZXJyb3ItbWVzc2FnZVwiKSk7XG4gICAgICBlcnJvck1lc3NhZ2UgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5yZW1vdmVDaGlsZChlcnJvck1lc3NhZ2UpIDogbnVsbDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEVycm9yTWVzc2FnZTtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEVycm9yTWVzc2FnZTsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmltcG9ydCBFcnJvck1lc3NhZ2UgZnJvbSAnLi9FcnJvck1lc3NhZ2UnO1xuaW1wb3J0IGdldFdvcmtWYWx1ZSBmcm9tICcuLi91dGlscy9nZXRXb3JrVmFsdWUnO1xuaW1wb3J0IGdldEJyZWFrVmFsdWUgZnJvbSAnLi4vdXRpbHMvZ2V0QnJlYWtWYWx1ZSc7XG52YXIgU2V0dGluZ3NNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNldHRpbmdzTW9kYWwodGltZXJJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR0aW5nc01vZGFsKTtcbiAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG5ldyBFcnJvck1lc3NhZ2UoKTtcbiAgICB0aGlzLnRpbWVyID0gdGltZXJJbnN0YW5jZTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoU2V0dGluZ3NNb2RhbCwgW3tcbiAgICBrZXk6IFwiaGFuZGxlU3VibWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChldmVudCwgd29ya1ZhbHVlLCBicmVha1ZhbHVlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgd29ya1ZhbHVlID0gTnVtYmVyKHdvcmtWYWx1ZS50cmltKCkpO1xuICAgICAgYnJlYWtWYWx1ZSA9IE51bWJlcihicmVha1ZhbHVlLnRyaW0oKSk7XG4gICAgICB0aGlzLmVycm9yTWVzc2FnZS5yZW1vdmVFcnJvck1lc3NhZ2UoJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgaWYgKGlzTmFOKHdvcmtWYWx1ZSkgfHwgd29ya1ZhbHVlIDwgMSB8fCB3b3JrVmFsdWUgPj0gNjEpIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UucmVuZGVyRXJyb3JNZXNzYWdlKCdXb3JrIFRpbWVyIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiA2MS4nLCAnI21vZGFsIC5tb2RhbC1ib2R5Jyk7XG4gICAgICB9IGVsc2UgaWYgKGlzTmFOKGJyZWFrVmFsdWUpIHx8IGJyZWFrVmFsdWUgPCAxIHx8IGJyZWFrVmFsdWUgPj0gNjEpIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UucmVuZGVyRXJyb3JNZXNzYWdlKCdCcmVhayBUaW1lciBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gNjEuJywgJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcih3b3JrVmFsdWUsIGJyZWFrVmFsdWUpO1xuICAgICAgICB0aGlzLmNsb3NlU2V0dGluZ3NNb2RhbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVUaW1lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUaW1lcih3b3JrVmFsdWUsIGJyZWFrVmFsdWUpIHtcbiAgICAgIGlmIChNYXRoLmZsb29yKHdvcmtWYWx1ZSkgIT09IHdvcmtWYWx1ZSkgd29ya1ZhbHVlID0gTWF0aC5mbG9vcih3b3JrVmFsdWUpO1xuICAgICAgaWYgKE1hdGguZmxvb3IoYnJlYWtWYWx1ZSkgIT09IGJyZWFrVmFsdWUpIGJyZWFrVmFsdWUgPSBNYXRoLmZsb29yKGJyZWFrVmFsdWUpO1xuICAgICAgZ2V0V29ya1ZhbHVlKHdvcmtWYWx1ZSk7XG4gICAgICBnZXRCcmVha1ZhbHVlKGJyZWFrVmFsdWUpO1xuICAgICAgdGhpcy50aW1lci51cGRhdGVUaW1lcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuU2V0dGluZ3NNb2RhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuU2V0dGluZ3NNb2RhbCgpIHtcbiAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3NNb2RhbCgnbWFpbicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVNldHRpbmdzTW9kYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VTZXR0aW5nc01vZGFsKCkge1xuICAgICAgdGhpcy5yZW1vdmVTZXR0aW5nc01vZGFsKCdtYWluJyk7XG4gICAgfVxuXG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJTZXR0aW5nc01vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNldHRpbmdzTW9kYWwobG9jYXRpb24pIHtcbiAgICAgIHZhciBzZXR0aW5nc01vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzZXR0aW5nc01vZGFsLnNldEF0dHJpYnV0ZSgnaWQnLCAnbW9kYWwnKTtcbiAgICAgIHNldHRpbmdzTW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwnKTtcbiAgICAgIHNldHRpbmdzTW9kYWwuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+U2V0IEN1c3RvbSBUaW1lciAoaW4gbWludXRlcyk8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgICAgICAgICA8Zm9ybSBjbGFzcz1cXFwic2V0dGluZ3MtZm9ybVxcXCIgbm92YWxpZGF0ZT5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIndvcmstdGltZXItaW5wdXRcXFwiPldvcms6PC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB2YWx1ZT1cXFwiXCIuY29uY2F0KGdldFdvcmtWYWx1ZSgpLCBcIlxcXCIgbmFtZT1cXFwid29ya1RpbWVyXFxcIiBpbnB1dG1vZGU9XFxcIm51bWVyaWNcXFwiIGlkPVxcXCJ3b3JrLXRpbWVyLWlucHV0XFxcIiBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgcmVxdWlyZWQgLz5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImJyZWFrLXRpbWVyLWlucHV0XFxcIj5CcmVhazo8L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHZhbHVlPVxcXCJcIikuY29uY2F0KGdldEJyZWFrVmFsdWUoKSwgXCJcXFwiIG5hbWU9XFxcImJyZWFrVGltZXJcXFwiIGlucHV0bW9kZT1cXFwibnVtZXJpY1xcXCIgaWQ9XFxcImJyZWFrLXRpbWVyLWlucHV0XFxcIiBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgcmVxdWlyZWQgLz5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b24tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidXR0b24gbW9kYWwtYnV0dG9uIHN1Ym1pdFxcXCI+U2F2ZTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gbW9kYWwtYnV0dG9uIGNhbmNlbFxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZm9ybT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChzZXR0aW5nc01vZGFsKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vcGVuJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVNldHRpbmdzTW9kYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2V0dGluZ3NNb2RhbChsb2NhdGlvbikge1xuICAgICAgdmFyIHNldHRpbmdzTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAjbW9kYWxcIikpO1xuICAgICAgc2V0dGluZ3NNb2RhbCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLnJlbW92ZUNoaWxkKHNldHRpbmdzTW9kYWwpIDogbnVsbDtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTZXR0aW5nc01vZGFsO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3NNb2RhbDsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9tb2R1bGVzL0hlYWRlcic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vbW9kdWxlcy9Gb290ZXInO1xuaW1wb3J0IFRpbWVyIGZyb20gJy4vbW9kdWxlcy9UaW1lcic7XG5pbXBvcnQgU2V0dGluZ3NNb2RhbCBmcm9tICcuL21vZHVsZXMvU2V0dGluZ3NNb2RhbCc7XG5pbXBvcnQgdGltZXJEb25lIGZyb20gJy4vYXNzZXRzL2F1ZGlvL3RpbWVyLWRvbmUubXAzJztcbnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcCk7XG4gICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKCk7XG4gICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcigpO1xuICAgIHRoaXMuc2V0dGluZ3NNb2RhbCA9IG5ldyBTZXR0aW5nc01vZGFsKHRoaXMudGltZXIpO1xuICAgIHRoaXMucmVuZGVyQXBwKCk7XG4gIH1cblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICBrZXk6IFwiZXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV2ZW50cygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcudGltZXItYnV0dG9ucyAucGxheS10aW1lcicpID8gX3RoaXMudGltZXIucGxheVRpbWVyKCkgOiBudWxsO1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy50aW1lci1idXR0b25zIC5wYXVzZS10aW1lcicpID8gX3RoaXMudGltZXIucGF1c2VUaW1lcigpIDogbnVsbDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcudGltZXItYnV0dG9ucyAucmVzZXQtdGltZXInKSA/IF90aGlzLnRpbWVyLnJlc2V0VGltZXIoKSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnaGVhZGVyIC5zZXR0aW5ncy1idXR0b24nKSA/IF90aGlzLnNldHRpbmdzTW9kYWwub3BlblNldHRpbmdzTW9kYWwoKSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnI21vZGFsIC5tb2RhbC1idXR0b24uY2FuY2VsJykgPyBfdGhpcy5zZXR0aW5nc01vZGFsLmNsb3NlU2V0dGluZ3NNb2RhbCgpIDogbnVsbDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcjbW9kYWwnKSA/IF90aGlzLnNldHRpbmdzTW9kYWwuY2xvc2VTZXR0aW5nc01vZGFsKCkgOiBudWxsO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbCcpICYmIGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgPyBfdGhpcy5zZXR0aW5nc01vZGFsLmNsb3NlU2V0dGluZ3NNb2RhbCgpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJyNtb2RhbCAuc2V0dGluZ3MtZm9ybScpID8gX3RoaXMuc2V0dGluZ3NNb2RhbC5oYW5kbGVTdWJtaXQoZXZlbnQsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3b3JrLXRpbWVyLWlucHV0JykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNicmVhay10aW1lci1pbnB1dCcpLnZhbHVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBET00gbWV0aG9kc1xuICB9LCB7XG4gICAga2V5OiBcInJlbmRlckFwcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJBcHAoKSB7XG4gICAgICB0aGlzLmhlYWRlci5yZW5kZXJIZWFkZXIoJyNhcHAnKTtcbiAgICAgIHRoaXMucmVuZGVyTWFpbignI2FwcCcpO1xuICAgICAgdGhpcy5mb290ZXIucmVuZGVyRm9vdGVyKCcjYXBwJyk7XG4gICAgICB0aGlzLnRpbWVyLnJlbmRlclRpbWVyQ2FyZChbJ21haW4nLCAnLmF1ZGlvJ10pO1xuICAgICAgdGhpcy50aW1lci5yZW5kZXJUaW1lckJ1dHRvbnMoWydtYWluJywgJy5hdWRpbyddKTtcbiAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlck1haW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTWFpbihsb2NhdGlvbikge1xuICAgICAgdmFyIG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgICBtYWluLmlubmVySFRNTCA9IFwiPGF1ZGlvIHNyYz1cXFwiXCIuY29uY2F0KHRpbWVyRG9uZSwgXCJcXFwiIGNsYXNzPVxcXCJhdWRpb1xcXCI+PC9hdWRpbz5cIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChtYWluKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEFwcDtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmYXZpY29uLmljb1wiOyIsImltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0ICdmaWxlLWxvYWRlcj9uYW1lPVtuYW1lXS5bZXh0XSEuL2luZGV4Lmh0bWwnO1xuaW1wb3J0ICdmaWxlLWxvYWRlcj9uYW1lPVtuYW1lXS5bZXh0XSEuL2Zhdmljb24uaWNvJztcbmltcG9ydCAnbm9ybWFsaXplLmNzcyc7XG5pbXBvcnQgJ0Bmb3J0YXdlc29tZS9mb250YXdlc29tZS1mcmVlL2Nzcy9hbGwubWluLmNzcyc7XG5pbXBvcnQgJy4vc3R5bGVzaGVldHMvc3R5bGUuc2Nzcyc7XG5uZXcgQXBwKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///978\n')}},__webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(c){if("object"==typeof window)return window}}(),(()=>{var c;__webpack_require__.g.importScripts&&(c=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!c&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(c=t.currentScript.src),!c)){var e=t.getElementsByTagName("script");if(e.length)for(var n=e.length-1;n>-1&&(!c||!/^http(s?):/.test(c));)c=e[n--].src}if(!c)throw new Error("Automatic publicPath is not supported in this browser");c=c.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=c})();var __webpack_exports__={};__webpack_modules__[978](0,__webpack_exports__,__webpack_require__)})();